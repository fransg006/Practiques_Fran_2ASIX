<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>PRE - Us de phpmyadmin - IAW_Fran</title>
    <link href="../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../js/bootstrap-3.3.7.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Pr\u00e0ctica d\u0027\u00fas de phpmyadmin", url: "#_top", children: [
              {title: "Ejercicios 2 - Enunciados", url: "#ejercicios-2-enunciados" },
              {title: "Ejercicios 3 - Enunciados", url: "#ejercicios-3-enunciados" },
          ]},
        ];

    </script>
    <script src="../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../PR06-2/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../PR06-2/" class="btn btn-xs btn-link">
        PR06 - Login i registre
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../PR05-2/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../PR05-2/" class="btn btn-xs btn-link">
        PR05 - Formularis
      </a>
    </div>
    
  </div>

    

    <h2 id="practica-dus-de-phpmyadmin">Pràctica d'ús de phpmyadmin</h2>
<h3 id="ejercicios-2-enunciados">Ejercicios 2 - Enunciados</h3>
<hr />
<p>En esta lección se proponen ejercicios para practicar el uso de phpMyAdmin instalando pequeñas aplicaciones. Se pueden consultar las soluciones de estos ejercicios de phpMyAdmin, aunque se recomienda intentar realizarlos primero sin recurrir a estas soluciones.</p>
<p><strong>Administración de bases de datos on phpMyAdmin</strong></p>
<p>Las aplicaciones web que se abordan en este curso utilizan la base de datos MySQL/MariaDB. Por motivos de seguridad, en servidores reales no se recomienda que las aplicaciones se conecten a MySQL/MariaDB como usuario root. Para cada aplicación, es más recomendable crear un usuario en MySQL/MariaDB que administre la aplicación. Ese procedimiento es el que se utilizará en estos apuntes. Para crear esos usuarios y, en general, administrar MySQL/MariaDB, se utilizará la aplicación phpMyAdmin.</p>
<p>En esta lección se proponen ejercicios en los que se instalará varias veces una pequeña aplicación de agenda. En los ejercicios se plantean tres situaciones distintas:</p>
<blockquote>
<p>· Instalar y configurar manualmente la aplicación como usuario que sólo puede crear una base de datos.</p>
<p>· Instalar y configurar manualmente dos aplicaciones como usuario que puede crear varias bases de datos.</p>
<p>· Instalar y configurar manualmente dos aplicaciones como usuario que sólo puede crear una base de datos (es necesario además modificar la aplicación)</p>
</blockquote>
<hr />
<h4 id="21-crear-un-usuario-iaw_agenda_1-con-una-base-de-datos-unica">2.1 - Crear un usuario iaw_agenda_1 con una base de datos única</h4>
<p>Primero para acceder dentro de phpmyadmin, tenemos que pasar por dos identificaciones configuradas en la practica 4.
La primera, que es la que se ve en la siguiente captura, las credenciales son <strong>franHT-8448</strong>.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/1.png" /></p>
<p>En esta pantalla la identificación será con las credenciales <strong>fran-8448</strong>.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/2.png" /></p>
<p><strong>1. Cree un nuevo usuario de MySQL/MariaDB con la siguiente configuración</strong></p>
<blockquote>
<ul>
<li>nombre de usuario: iaw_agenda_1</li>
<li>servidor: localhost</li>
<li>contraseña: iaw_agenda_1</li>
<li>base de datos para el usuario: base de datos con el mismo nombre(iaw_agenda_1)</li>
<li>sin privilegios globales</li>
<li>sin límite de recursos</li>
</ul>
</blockquote>
<p>Primero, para crear dicha cuenta de usuario, nos tenemos que identificar como root, para que nos de permisos de configuración.
Una vez identificados como root-8448, vamos a Cuentas de usuario, y creamos uno con las caracteristicas requeridas.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/3.png" /></p>
<p>De esta manera creamos el usuario y la base de datos que se muestra en el siguiente punto.</p>
<p><strong>2. Una vez creado el usuario, entre en phpMyAdmin como usuario iaw_agenda_1 y compruebe que se ha creado la base de datos iaw_agenda_1.</strong></p>
<p>De esta manera podemos ver el comando SQL y a su vez la base de datos creada.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/4.png" /></p>
<p><strong>3. Como usuario iaw_agenda_1, compruebe que no puede borrar la base de datos, ni crear otra base de datos (por ejemplo, la base de datos iaw_agenda_1_db1).</strong></p>
<p>Primero me he logueado con el usuario creado iaw_agenda_1.</p>
<p>Una vez logueado con dicho usuario, he probado a crear una, y de hecho nos dice en el cuadro rojo inferior que no tenemos permisos para realizar esta operación.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/5.png" /></p>
<p>Ahora he probado a eliminar la base de datos que hemos creado de forma automatica con el mismo nombre que el usuario a la misma vez que lo creamos, y nos sale lo mismo, que no podemos eliminar.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/6.png" /></p>
<hr />
<h4 id="22-instalar-una-aplicacion-como-usuario-iaw_agenda_1">2.2 - Instalar una aplicación como usuario iaw_agenda_1</h4>
<p><strong>1. Descargue la aplicación Agenda (17/01/23) (esta aplicación corresponde al ejercicio Bases de datos (2 B) 2 del curso Programación web en PHP).</strong></p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/7.png" /></p>
<p><strong>2. Descomprima la aplicación en la carpeta adecuada y renombre la carpeta como agenda-1.</strong></p>
<p>Primero en mi maquina anfitrion, he creado un servidor temporal de python en mi maquina para poder descargar la carpeta en el Ubuntu Server.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/9.png" /></p>
<p>Después desde el Ubuntu Server he usado este comando para descargar la carpeta comprimida.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/10.png" /></p>
<p>Seguidamente, procedo a descomprimir dicha carpeta.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/11.png" /></p>
<p>Una vez ya tenemos la carpeta descomprimida, procedemos a situar dicha carpeta en el directorio de configuración correspondiente.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/12.png" /></p>
<p><strong>3. Modifique el archivo de configuración config.php de la aplicación Agenda para que esta utilice la cuenta del usuario iaw_agenda_1 en MySQL/MariaDB.</strong></p>
<p>Para este paso, nos situamos dentro del directorio donde se encuentra el fichero config.php de la carpeta que hemos movido.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/13.png" /></p>
<p>Una vez dentro ponemos dicha configuración como pide el enunciado, como se ve en la siguiente imagen.
En este caso lo que modificamos son las 4 ultimas lineas que salen en la captura, y en la primera linea donde elegimos el tipo de base de datos, ponemos MYSQL ya que es el tipo que usamos.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/14.png" /></p>
<p>El siguiente paso será crear un fichero de configuración /etc/nginx/sites-available, en este caso llamado igual que la carpeta agenda-1.
Lo vamos a copiar del default que ya tenemos por defecto para usarlo de plantilla.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/15.png" /></p>
<p>Una vez copiado el fichero, vamos a configurarlo para el sitio.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/16.png" /></p>
<p>Después, para que nginx no coja el <em>default</em> por defecto, en /etc/nginx/sites-enabled, he borrado el default.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/17.png" /></p>
<p><strong>4. Ejecute la aplicación en el navegador, eligiendo primero la opción "Borrar todo" para crear la tabla en la base de datos, y compruebe que funciona creando varios registros.</strong></p>
<p>Ahora desde el navegador, vamos a http://IPservidor/30000
<em>(La IP varía depende en que red me encuentre conectado en el momento)</em></p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/18.png" /></p>
<p>Elegimos la opción de borrar todo que se muestra en pantalla y aceptamos.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/19.png" /></p>
<p>Después de borrar todo, podemos ver que nos sale lo siguiente:</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/20.png" /></p>
<p><strong>5. Compruebe el contenido de la tabla en phpMyAdmin como usuario iaw_agenda_1.</strong></p>
<p>Accedemos de nuevo dentro de phpmyadmin con dicho usuario:</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/21.png" /></p>
<p>Y comprobamos que el contenido de la tabla en phpmyadmin está vacio.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/22.png" /></p>
<hr />
<h4 id="23-crear-un-usuario-iaw_agenda_2-que-pueda-administrar-varias-bases-de-datos">2.3 - Crear un usuario iaw_agenda_2 que pueda administrar varias bases de datos</h4>
<p><strong>1. Cree un nuevo usuario de MySQL/MariaDB con la siguiente configuración</strong></p>
<ul>
<li>nombre de usuario: iaw_agenda_2</li>
<li>servidor: localhost</li>
<li>contraseña: iaw_agenda_2</li>
<li>base de datos para el usuario: Otorgar todos los privilegios al nombre que contiene comodín (username_%)</li>
<li>sin privilegios globales</li>
<li>sin límite de recursos</li>
</ul>
<p>Accedemos como root para poder crear usuarios</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/23.png" /></p>
<p>Una vez dentro creamos el usuario con dichas caracteristicas</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/24.png" /></p>
<p><strong>2. Una vez creado el usuario, entre en phpMyAdmin como usuario iaw_agenda_2 y compruebe que no se ha creado ninguna base de datos.</strong></p>
<p>Nos logueamos con dicho usuario iaw_agenda_2. </p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/25.png" /></p>
<p>Y vemos en la siguiente imagen que no hay ninguna base de datos creada ya que no hemos marcado la casilla que lo requeria.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/26.png" /></p>
<p><strong>3. Compruebe que el usuario iaw_agenda_2 no puede crear una base de datos cuyo nombre no empiece por iaw_agenda_2_, por ejemplo una base de datos que se llame agenda_2.</strong></p>
<p>Probamos a crear una base de datos con el nombre agenda_2 y vemos que nos sale lo siguiente diciendo que no nos deja crear una base de datos.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/27.png" /></p>
<hr />
<h4 id="24-instalar-dos-aplicaciones-como-usuario-iaw_agenda_2">2.4 - Instalar dos aplicaciones como usuario iaw_agenda_2</h4>
<p><strong>1. Descargue la aplicación Agenda (17/01/23) (esta aplicación corresponde al ejercicio Bases de datos (2 B) 2 del curso Programación web en PHP).</strong></p>
<p>Como en el servidor ya tenia la carpeta comprimida descargada del principio de la actividad, pasamos al siguiente punto.</p>
<p><strong>2. Descomprima la aplicación dos veces en dos carpetas y renombre las carpetas como agenda-2a y agenda-2b.</strong></p>
<p>La he descomprimido 2 veces con esos nombres, como se ve en las siguientes 2 imagenes.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/28.png" /></p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/29.png" /></p>
<p>Copiamos los directorios creados, las ambas carpetas en /var/www/</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/30.png" /></p>
<p><strong>3. Modifique los archivos de configuración config.php de ambas aplicaciones para que estas utilicen la cuenta del usuario iaw_agenda_2 en MySQL/MariaDB (pero bases de datos distintas).</strong></p>
<ul>
<li>
<p><strong>Nota</strong>: Hay que tener en cuenta que el nombre de las bases de datos debe comenzar por el nombre del usuario y un guion bajo (en este caso, iaw_agenda_2_agenda_2a y iaw_agenda_2_agenda_2b, por ejemplo)</p>
</li>
<li>
<p>Para distinguir después una aplicación de otra fácilmente, puede cambiar el color básico de la aplicación en el archivo de configuración.</p>
</li>
</ul>
<p>Primero he realizado estos cambios en los ficheros config.php de cada carpeta.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/31.png" /></p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/32.png" /></p>
<p>Una vez esos cambios realizados, en /etc/nginx/sites-available/ he duplicado el fichero agenda-1 con los respectivos nombres de cada una de ellas</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/33.png" /></p>
<p>Una vez tengamos los ficheros de nginx, voy a configurar el agenda-2a</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/34.png" /></p>
<p>Ahora el fichero agenda-2b</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/35.png" /></p>
<p>Una vez configurados, los llevamos al /etc/nginx/sites-enabled para que los sitios web ya estén activos.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/36.png" /></p>
<p>Luego en el CSS dentro del /var/www/agenda-2a y 2b, he realizado algunos cambios de color para que en las siguientes imagenes se vean diferente.
Esta imagen es en el CSS de agenda-2a.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/37.png" /></p>
<p>Y se ve de esta manera.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/38.png" /></p>
<p>Ahora en el CSS de agenda-2b he hecho estos cambios.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/39.png" /></p>
<p>Y se ve asi.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/40.png" /></p>
<p><strong>4. Ejecute las aplicaciones en el navegador, eligiendo primero la opción "Borrar todo" para crear la tabla en la base de datos, y compruebe que funcionan creando varios registros.</strong>
El borrado de las bases de datos con el <em>Borrar todo</em> se ve en las siguientes 2 capturas de las 2 aplicaciones web.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/41.png" /></p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/42.png" /></p>
<p><strong>5. Compruebe los contenidos de las tablas en phpMyAdmin como usuario iaw_agenda_2.</strong>
Accedemos al phpmyadmin con dicho usuario.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/43.png" /></p>
<p>Una vez dentro, vemos el contenido de las tablas. En este caso podemos ver en la siguiente imagen que las tablas se encuentran vacias.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/44.png" /></p>
<hr />
<h4 id="25-crear-un-usuario-iaw_agenda_3-con-una-base-de-datos-unica">2.5 - Crear un usuario iaw_agenda_3 con una base de datos única</h4>
<p><strong>1. Cree un nuevo usuario de MySQL/MariaDB con la siguiente configuración</strong>
- nombre de usuario: iaw_agenda_3
- servidor: localhost
- contraseña: iaw_agenda_3
- base de datos con el mismo nombre (iaw_agenda_3)
- sin privilegios globales
- sin límite de recursos</p>
<p>Volvemos a loguearnos como root en el phpmyadmin para poder crear usuarios.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/45.png" /></p>
<p>Una vez dentro creamos el usuario según lo pedido.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/46.png" /></p>
<p><strong>2. Una vez creado el usuario, entre en phpMyAdmin como usuario iaw_agenda_3 y compruebe que se ha creado la base de datos iaw_agenda_3.</strong></p>
<p>Nos logueamos como iaw_agenda_3.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/47.png" /></p>
<p>Vemos la base de datos creada.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/48.png" /></p>
<hr />
<h4 id="26-instalar-dos-aplicaciones-como-usuario-iaw_agenda_3">2.6 - Instalar dos aplicaciones como usuario iaw_agenda_3</h4>
<p><strong>1. Descargue la aplicación Agenda (17/01/23) (esta aplicación corresponde al ejercicio Bases de datos (2 B) 2 del curso Programación web en PHP).</strong>
La aplicación fue descargada en los primeros pasos.</p>
<p><strong>2. Descomprima la aplicación en dos carpetas y renombre las carpetas como agenda-3a y agenda-3b.</strong>
Procedemos a descomprimir la carpeta, creando 2.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/49.png" /></p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/50.png" /></p>
<p>Seguidamente las movemos al directorio /var/www/.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/51.png" /></p>
<p><strong>3. Modifique los archivos de configuración config.php para que las aplicaciones utilicen la cuenta del usuario iaw_agenda_3 en MySQL/MariaDB y la misma base de datos iaw_agenda_3, pero cada una guarde sus registros en tablas distintas.</strong>
En las 2 siguientes imagenes se muestran los ficheros config.php en <em>/var/www/agenda-3X/config.php</em>.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/52.png" /></p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/53.png" /></p>
<p>Ahora he duplicado el fichero que se encuentra en /etc/nginx/sites-available/ de agenda-1 para cada una de las apps, para 3a y 3b, con sus respectivas configuraciones en las siguientes imagenes.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/54.png" /></p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/55.png" /></p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/56.png" /></p>
<p>Después hay que llevar estos ficheros al sites-enabled para habilitarlos.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/57.png" /></p>
<p><strong>4. Ejecute las aplicaciones en el navegador y compruebe que funcionan creando varios registros. El problema es que al borrar todo desde una aplicación se borra también la tabla de la otra aplicación.</strong>
Ahora desde el navegador, poniendo la IP del servidor y el puerto que hemos configurado de cada sitio, vemos lo siguiente.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/58.png" /></p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/59.png" /></p>
<p>Ponemos <em>Borrar todo</em> en ambos sitios.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/60.png" /></p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/61.png" /></p>
<p>Ahora vamos a crear algún registro en agenda-3a por ejemplo</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/62.png" /></p>
<p>Después guardamos y vemos que se han guardado los cambios.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/63.png" /></p>
<p><strong>5. Confirme el problema anterior comprobando los contenidos de las tablas en phpMyAdmin como usuario iaw_agenda_3</strong></p>
<p>Ahora nos logueamos con el usuario iaw_agenda_3.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/64.png" /></p>
<p>Podemos ver el registro creado en agenda-3a en la base de datos en la ultima linea que se ve en la siguiente imagen.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/65.png" /></p>
<hr />
<h4 id="27-mejora-de-las-aplicaciones-del-usuario-iaw_agenda_3">2.7 - Mejora de las aplicaciones del usuario iaw_agenda_3</h4>
<blockquote>
<p><strong>Usuario con un base de datos única</strong></p>
</blockquote>
<p><strong>1. El problema de las aplicaciones del ejercicio 6 es que si se elige la opción "Borrar todo" en una de las aplicaciones se pierde toda la información de la otra aplicación, ya que al "Borrar todo" se borra la base de datos completa. Corrija este problema.</strong>
La solución a este problema es borrar todo lo que marca la linea roja de la siguiente imagen:</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/66.png" /></p>
<p>Debe de quedar de esta manera en ambas bibliotecas.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/67.png" /></p>
<p>Una vez borrado en los 2, no debemos de tener mas este problema.
Para comprobarlo, voy a pulsar <em>Borrar todo</em> en la de agenda-3b para ver si se borra el registro de agenda-3a.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/68.png" /></p>
<p>Después de probarlo, podemos ver que el registro sigue sin haberlo perdido.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/69.png" /></p>
<p><strong>2. Ejecute las aplicaciones en el navegador y compruebe que funcionan creando varios registros. Compruebe especialmente que al borrar todo desde una aplicación no se borran los registros de la otra.</strong>
Para esta prueba voy a crear 2 registros en agenda-3a.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/70.png" /></p>
<p>Ahora desde agenda-3b voy a probar a borrarlo todo.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/71.png" /></p>
<p>Después de intentarlo, vemos que los registros siguen estando.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/72.png" /></p>
<p><strong>3. Compruebe los contenidos de las tablas en phpMyAdmin como usuario iaw_agenda_3.</strong>
Los contenidos siguen estando, como se ve en la imagen del punto de arriba.</p>
<blockquote>
<p><strong>Usuario con varias bases de datos (SIN HACER)</strong></p>
</blockquote>
<p><strong>1. Si el usuario iaw_agenda_3 fuera del tipo de los que pueden tener muchas bases de datos, la solución del apartado anterior no sería suficiente, ya que las aplicaciones necesitan que exista la base de datos y las aplicaciones no las crean. Corrija este problema.</strong></p>
<p><strong>2. Borre el usuario usuario iaw_agenda_3 y créelo de nuevo, pero ahora del tipo de los que pueden crear varias bases de datos. Ejecute las aplicaciones en el navegador y compruebe que funcionan creando varios registros. Compruebe especialmente que al borrar todo desde una aplicación no se borran los registros de la otra.</strong></p>
<p><strong>3. Compruebe los contenidos de las tablas en phpMyAdmin como usuario iaw_agenda_3.</strong></p>
<blockquote>
<hr />
</blockquote>
<h3 id="ejercicios-3-enunciados">Ejercicios 3 - Enunciados</h3>
<h4 id="31-completar-instalacion-sin-hacer">3.1 - Completar instalación (SIN HACER)</h4>
<p><strong>1. Para mantener la identificación de los usuarios en la base de datos, phpMyAdmin guarda una cookie en el cliente. Esta cookie está encriptada mediante el algoritmo AES, que requiere una cadenas sal aleatoria de 32 caracteres.</strong></p>
<p><strong>2. Elimine el aviso inicial que muestra phpMyAdmin.</strong></p>
<p>Aunque phpMyAdmin utiliza el algoritmo AES, la variable de configuración se llama blowfish_secret debido a que anteriormente phpMyAdmin utilizaba el algoritmo Blowfish. El manual de phpMyAdmin aconseja utilizar una cadena aleatoria de 32 caracteres, que puede generar utilizando algún generador Blowfish de los disponibles en Internet y modificándola para mayor seguridad.</p>
<p><strong>3. Compruebe que ya no se muestra el aviso.</strong></p>
<hr />
<h4 id="32-instalar-tema">3.2 - Instalar tema</h4>
<p><strong>1. Aplique el tema Metro:</strong></p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/73.png" /></p>
<p><strong>2. Descargue el tema darkwolf de la página de temas de phpMyAdmin y descomprímalo en la carpeta adecuada.</strong></p>
<p><em>Si el tema darkwolf ya no está disponible en la web del programa, puede descargarlo desde la página de Descarga de aplicaciones.</em></p>
<p>Primero en la pagina de temas de phpmyadmin descargo el tema en formato .zip
<img alt="Imagen" src="../IMG/UsPhpmyadmin/74.png" />
<img alt="Imagen" src="../IMG/UsPhpmyadmin/75.png" /></p>
<p>Después lo comparto comprimido con el servidor a través del servidor de pyhton3.
<img alt="Imagen" src="../IMG/UsPhpmyadmin/76.png" />
<img alt="Imagen" src="../IMG/UsPhpmyadmin/77.png" /></p>
<p>El siguiente paso es descomprimirlo, lo llamaré Darkwolf.</p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/78.png" />
<img alt="Imagen" src="../IMG/UsPhpmyadmin/79.png" /></p>
<p>Ahora lo moveré al directorio siguiente para que se muestre en el menú de phpmyadmin para aplicarlo de la misma manera que el Metro.
<img alt="Imagen" src="../IMG/UsPhpmyadmin/80.png" /></p>
<p><strong>3. Aplique el tema darkwolf:</strong>
Para que el tema aparezca, refrescamos la pagina y vemos que sale en el listado. Lo aplicamos.
<img alt="Imagen" src="../IMG/UsPhpmyadmin/81.png" /></p>
<p><strong>4. Vuelva al tema predeterminado pmahomme.</strong>
<img alt="Imagen" src="../IMG/UsPhpmyadmin/82.png" /></p>
<hr />
<h4 id="33-permitir-borrar-bases-de-datos-a-los-usuarios">3.3 - Permitir borrar bases de datos a los usuarios</h4>
<p><strong>1. Como usuario root, compruebe que con phpMyAdmin podría borrar bases de datos (no borre ninguna ahora).</strong>
Si nos situamos aqui, en operaciones, y vemos abajo del todo de la siguiente imagen que si que sale la opción de borrar la base de datos estando como root.
<img alt="Imagen" src="../IMG/UsPhpmyadmin/83.png" /></p>
<p><strong>2. Como usuario iaw_agenda_1 o iaw_agenda_2, compruebe que con phpMyAdmin no puede borrar sus bases de datos.</strong>
Nos logueamos como iaw_agenda_1 y vemos que no sale la opción.
<img alt="Imagen" src="../IMG/UsPhpmyadmin/84.png" /></p>
<p>Lo mismo con iaw_agenda_2.
<img alt="Imagen" src="../IMG/UsPhpmyadmin/85.png" /></p>
<p><strong>3. El motivo es que con la configuración inicial, los usuarios no pueden borrar bases de datos. Pero estableciendo una variable de configuración en el archivo de configuración de phpMyAdmin, el usuario podrá borrar bases de datos.</strong></p>
<p>La variable de configuración se documenta en el manual de phpMyAdmin.</p>
<p><strong>4. Como usuario iaw_agenda_1 o iaw_agenda_2, compruebe que ya puede borrar sus bases de datos.
XAMPP. Borrar bases de datos</strong></p>
<p><strong>5. Deje el archivo de configuración de manera que los usuarios puedan borrar sus bases de datos, para poder hacer el ejercicio siguiente.</strong></p>
<hr />
<h4 id="34-realizar-copias-de-seguridad-de-las-bases-de-datos-del-usuario-iaw_agenda_2">3.4 - Realizar copias de seguridad de las bases de datos del usuario iaw_agenda_2</h4>
<p><strong>1. Compruebe que hay registros guardados en las tablas personas en ambas bases de datos.</strong>
He creado un registro en cada tabla para que haya contenido en cada una de ellas.</p>
<p><strong>2. Copia de seguridad rápida</strong></p>
<ul>
<li>Realice una copia de seguridad rápida del usuario iaw_agenda_2</li>
<li>Borre las bases de datos o las tablas de ambas aplicaciones.</li>
<li>Restaure las copias de seguridad realizadas.</li>
<li>Compruebe que los registros de las tablas se han r</li>
</ul>
<p>Primero nos conectamos a phpmyadmin con el usuario iaw_agenda_2.
Después vamos a <em>Exportar</em> y ponemos las siguientes opciones.
<img alt="Imagen" src="../IMG/UsPhpmyadmin/86.png" />
<img alt="Imagen" src="../IMG/UsPhpmyadmin/87.png" /></p>
<p>Exportamos y vemos el fichero descargado.
<img alt="Imagen" src="../IMG/UsPhpmyadmin/88.png" /></p>
<p>Ahora vamos a borrar las bases de datos desde el usuario root, de la siguiente manera en ambas.
<img alt="Imagen" src="../IMG/UsPhpmyadmin/89.png" /></p>
<p>Si nos logueamos de nuevo con iaw_agenda_2, vemos que las bases de datos ya no aparecen.
<img alt="Imagen" src="../IMG/UsPhpmyadmin/90.png" /></p>
<p>Ahora como root, vamos a restaurar con el fichero que hemos creado al exportar antes, en <em>Importar</em>:
<img alt="Imagen" src="../IMG/UsPhpmyadmin/91.png" />
<img alt="Imagen" src="../IMG/UsPhpmyadmin/92.png" /></p>
<p>Una vez importado de nuevo, desde root como se ve en la imagen superior, y al igual que desde iaw_agenda_2, vemos de nuevo las bases de datos, con sus correspondientes datos que hemos introducido antes.
<img alt="Imagen" src="../IMG/UsPhpmyadmin/93.png" /></p>
<p><strong>3. Copia de seguridad personalizada completa</strong>
- Realice una copia de seguridad personalizada de las bases de datos del usuario iaw_agenda_2 (incluyendo el borrado de las bases de datos y sus elementos).
- Borre las bases de datos o las tablas de ambas aplicaciones.
- Restaure las copias de seguridad realizadas.
- Compruebe que los registros de las tablas se han recuperado correctamente.</p>
<p>Para realizar este tipo de copia, elegimos la opción de <em>personalizada</em>, en la siguiente imagen.
<img alt="Imagen" src="../IMG/UsPhpmyadmin/94.png" /></p>
<p>En la siguiente imagen, para que sea una copia completa, es decir, de todo, marcamos <em>estructura i dades</em>.
<img alt="Imagen" src="../IMG/UsPhpmyadmin/95.png" /></p>
<p>Ahora borramos las bases de datos como root de la misma forma que en el punto anterior.
Restauramos la copia igual que antes con <em>Importar</em>.
Vemos de nuevo que los registros de dichas tablas siguen estando.
<img alt="Imagen" src="../IMG/UsPhpmyadmin/96.png" /></p>
<p><strong>4. Copia de seguridad personalizada parcial</strong>
- Realice una copia de seguridad personalizada de una de las bases de datos del usuario iaw_agenda_2 (incluyendo el borrado de las bases de datos y sus elementos).
- Borre la base de datos o la tabla elegida.
- Restaure la copias de seguridad realizada.
- Compruebe que los registros de la tabla se han recuperado correctamente.</p>
<p>Realizamos el mismo procedimiento que en el punto anterior, pero esta vez elegimos la opción de <em>solo estructura</em>.
<img alt="Imagen" src="../IMG/UsPhpmyadmin/97.png" /></p>
<p>Una vez creado el fichero .sql, borramos las bases de datos de nuevo, y volvemos a importar el fichero.
<img alt="Imagen" src="../IMG/UsPhpmyadmin/98.png" /></p>
<p>Vemos que al importar el fichero de nuevo, la estructura la mantiene, pero los datos no.
<img alt="Imagen" src="../IMG/UsPhpmyadmin/99.png" /></p>
<hr />
<h4 id="35-optativo-generar-pdfs-de-la-estructura-de-las-bases-de-datos">3.5 (optativo) - Generar PDFs de la estructura de las bases de datos</h4>
<p>phpMyAdmin incluye un diseñador que muestra de forma gráfica la estructura de la base de datos y que también permite exportarla en formato PDF.</p>
<p><strong>1. Muestre la estructura de la base de datos iaw_agenda_1.</strong></p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/100.png" /></p>
<p><strong>2. Exporte el pdf con la estructura de la base de datos iaw_agenda_1.</strong></p>
<p><img alt="Imagen" src="../IMG/UsPhpmyadmin/101.png" /></p>
<p>En aquest enllaç, es pot accedir al document .pdf de la estructura de la base de dades: <a href="../Estructura-BaseDeDades1.pdf">PDF</a></p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../PR06-2/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../PR06-2/" class="btn btn-xs btn-link">
        PR06 - Login i registre
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../PR05-2/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../PR05-2/" class="btn btn-xs btn-link">
        PR05 - Formularis
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>